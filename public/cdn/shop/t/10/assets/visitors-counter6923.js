class MVisitorCounter extends HTMLElement{constructor(){super(),this.selectors={liveViews:[".m-product-live-views"],stockCountdowns:[".prod__stock-countdown"]}}connectedCallback(){this.init()}init(){try{this.domNodes=queryDomNodes(this.selectors),this.initLiveViews()}catch{console.error("Failed to init Boost Sales Helper")}}initLiveViews(){this.domNodes.liveViews&&this.domNodes.liveViews.forEach(liveViews=>{if(liveViews.dataset.initialized!=="true"){const liveViewElem=liveViews.querySelector(".live-views-text"),settings=liveViews.dataset;if(liveViewElem){const lvtHTML=liveViewElem.innerHTML;liveViewElem.innerHTML=lvtHTML.replace(settings.liveViewsCurrent,`<span class="live-view-numb">${settings.liveViewsCurrent}</span>`),this.changeLiveViewsNumber(liveViewElem,settings)}liveViews.dataset.initialized=!0}})}changeLiveViewsNumber(liveViewElem,settings){const numbElem=liveViewElem.querySelector(".live-view-numb"),{liveViewsDuration,liveViewsMax,liveViewsMin}=settings,duration=Number(liveViewsDuration)||5,max=Number(liveViewsMax)||30,min=Number(liveViewsMin)||20;numbElem&&setInterval(()=>{const newViews=Math.floor(Math.random()*(max-min+1))+min;numbElem.textContent=newViews},duration*1e3)}}customElements.define("m-visitiors-counter",MVisitorCounter);
//# sourceMappingURL=/cdn/shop/t/10/assets/visitors-counter.js.map?v=55756765419785404511720077288
